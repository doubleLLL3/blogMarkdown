---
title: '9 æ•°æ®æå–ã€è½¯ç¡¬è¿æ¥ã€çº¿æ€§ç­›ã€SED'
date: 2020-12-06 18:00:00
tags: [è®¡ç®—æœº,æ“ä½œç³»ç»Ÿ,Linux,æµ·è´¼ç­]
published: true
hideInList: true
feature: 
isTop: false
---
# è¯¾ç¨‹å†…å®¹

## æ•°æ®æå–æ“ä½œ

|å‘½ä»¤|åŠŸèƒ½|å‘½ä»¤|åŠŸèƒ½|
|:----:|:----|:----:|:----|:----:|:----|:----:|:----|
|cut|åˆ‡åˆ†|grep|æ£€ç´¢|
|sort|æ’åº|wc|ç»Ÿè®¡å­—ç¬¦ã€å­—æ•°ã€è¡Œæ•°|
|uniq|å»é‡|tee|åŒå‘é‡å®šå‘|
|split|æ–‡ä»¶åˆ‡åˆ†|xargs|å‚æ•°ä»£æ¢|
|tr|æ›¿æ¢ã€å‹ç¼©ã€åˆ é™¤|    |    |

### cut

â€”â€”èœåˆ€

* -d c ä»¥å­—ç¬¦cåˆ†å‰²
    * å¯ç”¨""æˆ–''åŒ…å›´cï¼Œå¾ˆçµæ´»
    * é»˜è®¤ä¸ºç©ºæ ¼
* -f [n/n-/n-m/-m] é€‰æ‹©ç¬¬nå— / ç¬¬n-endå— / ç¬¬n-må— / ç¬¬1-må—
* -b [n-/n-m/-m] å­—èŠ‚
* -c [n-/n-m/-m] å­—ç¬¦
### grep

å¸¸è§æ“ä½œè§ï¼štldr grep

* -c ç»Ÿè®¡æœå¯»åˆ°çš„æ¬¡æ•° [æ–‡ä»¶ä¸ºå•ä½]
* -n é¡ºåºè¾“å‡ºæ‰€åœ¨è¡Œå·
* -v è¾“å‡ºä¸åŒ¹é…çš„ [è¡¥é›†]
* -C 3 è¾“å‡ºé™„è¿‘3è¡Œçš„å†…å®¹
* -i å¤§å°å†™æ•æ„Ÿ
* [PS] -nã€-cå†²çªï¼Œä¼˜å…ˆæ˜¾ç¤º-cç»“æœ
* ç¤ºä¾‹
    * ç»Ÿè®¡è·¯å¾„ä¸‹åŒ…å«doubleliu3çš„è¡Œæ•°
        * ![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/EgECLjX.png)
        * ä½¿ç”¨cut+awkæˆ–ç›´æ¥ä½¿ç”¨awk
    * æŸ¥çœ‹hzç›¸å…³æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹
        * ![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/1ODi78S.png)
        * ps -efï¼šç±»ä¼¼Windowsä¸‹çš„ä»»åŠ¡ç®¡ç†å™¨
        * ç›¸æ¯”ï¼Œps -auxæ˜¾ç¤ºçš„ä¿¡æ¯æ›´å¤šï¼Œåœ¨æ—©æœŸåå‘UNIXç³»ç»Ÿ
        * [PS] ps -efä¸­ï¼ŒPPIDæ˜¯çˆ¶è¿›ç¨‹çš„ID
### sort

ç±»ä¼¼Excelçš„æ’åºåŠŸèƒ½ï¼Œé»˜è®¤æ ¹æ®è¡Œé¦–æŒ‰ASCIIç æ’åº

* -t åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºTAB
* -k ä»¥å“ªä¸ªåŒºé—´æ’åº
* -n çº¯æ•°å­—æ’åº
* -r åå‘æ’åº
* -u uniq [ä½†ä¸æ–¹ä¾¿è®¡æ•°]
* -f å¿½ç•¥å¤§å°å†™ [é»˜è®¤]ï¼›-V [ä¸å¿½ç•¥å¤§å°å†™]

ã€ç¤ºä¾‹ã€‘å°†ç”¨æˆ·ä¿¡æ¯æ ¹æ®uidæŒ‰çº¯æ•°å­—æ’åº

```shell
cat /etc/passwd | sort -t : -k 3 -n
```
ã€ç»æµ‹è¯•ã€‘
* æ’åºæ—¶é»˜è®¤
* çœç•¥äº†ç‰¹æ®Šç¬¦å·ï¼Œå¦‚ä¸‹åˆ’çº¿"_"ã€"*"ã€"/"ç­‰
* è¿˜å¿½ç•¥å¤§å°å†™ï¼Œæ’å¥½åºåæŠŠå°å†™æ”¾åœ¨å¤§å†™å‰é¢ [-V å¯ä»¥ä¸å¿½ç•¥å¤§å°å†™]
### wc

* -l  è¡Œæ•°
* -w å­—æ•°
* -m å­—ç¬¦æ•°ï¼›-c å­—èŠ‚æ•°

ã€ç¤ºä¾‹ã€‘

â‘  æœ€è¿‘ç™»å½•ç³»ç»Ÿçš„æ€»æ¬¡æ•°

```shell
last | grep -v "^$" | grep -v "begins" | wc -l
```
â‘¡ PATHè·¯å¾„çš„ç›¸å…³ç»Ÿè®¡ï¼šå­—ç¬¦æ•°ã€å•è¯æ•°ã€å˜é‡æ•°ã€å–æœ€åä¸€ä¸ªå˜é‡
![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/apXgmpP.png)

### uniq

è¿ç»­çš„é‡å¤çš„æ‰ç®—é‡å¤ï¼Œä¸€èˆ¬ä¸sorté…åˆ

* -i å¿½ç•¥å¤§å°å†™
* -c è®¡æ•°

ã€ç¤ºä¾‹ã€‘ç»Ÿè®¡æœ€è¿‘ç”¨æˆ·çš„ç™»å½•æ¬¡æ•°ï¼Œæ ¹æ®æ¬¡æ•°ä»å¤§åˆ°å°æ’åº

![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/5DHc1wj.png)

### tee

æ—¢æ˜¾ç¤ºåœ¨ç»ˆç«¯ï¼Œåˆå†™è¿›æ–‡ä»¶

* é»˜è®¤è¦†ç›–åŸæ–‡ä»¶
* -a è¿½åŠ ä¸è¦†ç›–

ã€ç¤ºä¾‹ã€‘

![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/CWgZlAi.png)

### split

åˆ‡åˆ†ä¸€ä¸ªæ–‡ä»¶ï¼Œé€‚åˆå¤„ç†å¤§æ–‡ä»¶

* -l num æŒ‰numè¡Œåˆ‡åˆ†
* -b size æŒ‰sizeå¤§å°åˆ‡åˆ†ï¼Œ512 [é»˜è®¤byte]ã€512kã€512m
    * å¯èƒ½å­˜åœ¨é¦–è¡Œã€æœ«è¡Œä¸å®Œæ•´ï¼Œæ‰€ä»¥å¯ç”¨ä¸‹é¢æ–¹å¼ğŸ‘‡
    * â— -C size æŒ‰æœ€å¤šsizeå¤§å°åˆ‡åˆ†ï¼Œå¹¶ä¿è¯ä¸ç ´åè¡Œæ•°æ®ï¼
* -n num æŒ‰å¤§å°å¹³åˆ†æˆnumä»½

ã€ç¤ºä¾‹ã€‘å°†/etcä¸‹çš„æ–‡ä»¶åˆ—è¡¨æ¯20è¡Œåˆ‡åˆ†å‡ºä¸€ä¸ªæ–‡ä»¶

![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/bfqxnmM.png)

### xargs

å‚æ•°ä»£æ¢ï¼Œé€‚åˆä¸æ¥æ”¶æ ‡å‡†è¾“å…¥çš„å‘½ä»¤ï¼Œç­‰ä»·äºç”¨å‘½ä»¤æ›¿æ¢ç¬¦çš„æ–¹å¼

* -exxx è¯»åˆ°"xxx"ç»“æŸ

![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/ChEXIQJ.png)

* -p æ‰§è¡Œæ•´ä¸ªæŒ‡ä»¤å‰è¯¢é—®
* -n num æŒ‡å®šæ¯æ¬¡æ¥æ”¶çš„å‚æ•°ä¸ªæ•°â­ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å…¨éƒ¨ä¼ å…¥
    * ![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/sn09zDe.png)
    * é€‚åˆåªèƒ½è¯»ä¸€ä¸ªå‚æ•°çš„å‘½ä»¤ [å¦‚id] æˆ–ç›¸å…³åœºæ™¯
### tr

å¯¹æ ‡å‡†è¾“å…¥çš„å­—ç¬¦æ›¿æ¢ã€å‹ç¼©ã€åˆ é™¤ï¼Œå¯æŸ¥çœ‹tldr tr

tr [é€‰é¡¹] <å­—ç¬¦/å­—ç¬¦é›†1> <å­—ç¬¦/å­—ç¬¦é›†2>

* é»˜è®¤æ›¿æ¢å­—ç¬¦é›†1ğŸ‘‰å­—ç¬¦é›†2ï¼Œä¸€ä¸€å¯¹åº”
    * å­—ç¬¦é›†1è¾ƒå­—ç¬¦é›†2å¤šå‡ºçš„å­—ç¬¦ï¼Œä»¥å­—ç¬¦é›†2æœ€åä¸€ä¸ªå­—ç¬¦ä½œä¸ºæ›¿æ¢
* -c æ›¿æ¢æ‰€æœ‰ä¸å±äºå­—ç¬¦é›†1çš„å­—ç¬¦ğŸ‘‰å­—ç¬¦2
* -s å‹ç¼©ï¼Œå°†è¿ç»­é‡å¤çš„å­—ç¬¦1ğŸ‘‰ä¸€ä¸ªå­—ç¬¦1  ã€â—ä¸-cæ­é…æ—¶çœ‹å­—ç¬¦2ã€‘
* -d åˆ é™¤æ‰€æœ‰å±äºå­—ç¬¦é›†1çš„å­—ç¬¦
* -t å…ˆåˆ é™¤å­—ç¬¦é›†1ä¸­è¾ƒå­—ç¬¦é›†2å¤šå‡ºçš„å­—ç¬¦ï¼Œå†ä¸€ä¸€å¯¹åº”æ›¿æ¢ã€â— æ³¨æ„ä¸é»˜è®¤æ–¹å¼çš„åŒºåˆ«ã€‘

ã€ç¤ºä¾‹ã€‘

â‘ ç®€å•ä½¿ç”¨

![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/WAbMyS6.png)

* -sä¹Ÿéœ€è¦å‚æ•°ï¼Œä¸-cæ­é…æ—¶é»˜è®¤ç”¨å­—ç¬¦2
* -tåªç®¡ä¸€ä¸€å¯¹åº”äº†çš„å­—ç¬¦ï¼Œå­—ç¬¦é›†1æ¯”å­—ç¬¦é›†2å¤šå‡ºçš„å­—ç¬¦ä¸ç®¡

â‘¡è¯é¢‘ç»Ÿè®¡

![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/JPtHhOU.png)

* træ›¿æ¢ğŸ‘‰æ’åºğŸ‘‰å»é‡è®¡æ•°ğŸ‘‰æ’åºğŸ‘‰æ˜¾ç¤ºå‰å‡ å



## è½¯ã€ç¡¬è¿æ¥

>  ç¡¬è¿æ¥å¯ä»¥å‡å°‘å­˜å‚¨ä½¿ç”¨ï¼Œè½¯è¿æ¥å¤šäº†ä¸€ä¸ªinodeå’Œblock

ã€èƒŒæ™¯ä»‹ç»ã€‘

* ext4æ–‡ä»¶ç³»ç»Ÿâ€”â€”ä¸‰ä¸ªç»„æˆéƒ¨åˆ†â€”â€”inodeã€blockã€superblock
* inodeï¼šæ–‡ä»¶ç»“ç‚¹
    * ä¸€ä¸ªinodeå¯¹åº”ä¸€ä¸ªæ–‡ä»¶
    * å­˜å‚¨æ–‡ä»¶ä¿¡æ¯ [æ–‡ä»¶æƒé™ã€æ‰€å±è€…ã€æ—¶é—´...] å’Œæ–‡ä»¶çœŸå®ä½ç½® [blocksä½ç½®]
    * å¦‚æœå­˜ä¸ä¸‹blocksä½ç½®ï¼Œä¼šç”¨å¤šçº§blocks
* blockï¼šæ–‡ä»¶çœŸå®å­˜æ”¾ä½ç½®ï¼Œä¸€ä¸ªblockä¸€èˆ¬æ˜¯ 4096 bytes
* superblockï¼šè‡³å°‘ä¸¤ä¸ªï¼Œå­˜å‚¨æ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ä¿¡æ¯ [å¦‚inodeã€block...]

ã€ç¡¬è¿æ¥ã€‘ç›¸å½“äºä¸€ä¸ªåˆ«å

* ä¸åŸæ–‡ä»¶æ‹¥æœ‰ç›¸åŒçš„inode
* æ–‡ä»¶çš„è¿æ¥æ•°>1
* [PS]
    * åˆ é™¤åˆ«åä¸å½±å“åŸæ–‡ä»¶
    * å½“å‰ç›®å½•å’Œçˆ¶ç›®å½•éƒ½æ˜¯ç¡¬è¿æ¥ [ç‰¹æ®Šçš„ç›®å½•]
    * ä½†æ˜¯ç¡¬è¿æ¥ä¸æ”¯æŒç›®å½•ï¼Œå¯èƒ½å­˜åœ¨æ­»å¾ªç¯ç­‰é—®é¢˜ï¼Œå‚è€ƒï¼š
        * [Why are hard links to directories not allowed in UNIX/Linux?](https://unix.stackexchange.com/questions/22394/why-are-hard-links-to-directories-not-allowed-in-unix-linux)â€”â€”StackExchange
        * [Why are hard links not allowed for directories?](https://askubuntu.com/questions/210741/why-are-hard-links-not-allowed-for-directories)â€”â€”StackExchange
        * [linuxä¸ºä»€ä¹ˆä¸èƒ½ç¡¬é“¾æ¥ç›®å½•ï¼Ÿ](https://www.zhihu.com/question/50223526)â€”â€”çŸ¥ä¹

ã€è½¯è¿æ¥ã€‘ç›¸å½“äºä¸€ä¸ªå¿«æ·æ–¹å¼

* åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œæ‹¥æœ‰è‡ªå·±çš„inodeï¼ŒæŒ‡å‘ä¸€ä¸ªblock [å­˜å‚¨æ–‡ä»¶çš„çœŸå®ä½ç½®]
* æ–‡ä»¶ç±»å‹ä¸ºlink
* [PS] æ¯”ç¡¬è¿æ¥æ›´å¸¸ç”¨
## çº¿æ€§ç­›

* <img src="https://gitee.com/doubleL3/blog-imgs/raw/master/img/Zj6l8sF.png" alt="å›¾ç‰‡" style="zoom: 67%;" />

* shellä¸­çš„æ•°ç»„æ²¡å¿…è¦åˆå§‹åŒ–ï¼Œä¸€å¼€å§‹å°±ä¸ºç©º
    * å…¶å®ä¸ç®¡ä»€ä¹ˆå˜é‡ï¼Œä¸€å¼€å§‹éƒ½æ˜¯ç©ºï¼Œæ²¡æœ‰ç±»å‹
* å­¦ä¼šã€å˜é‡x == xã€‘çš„åˆ¤ç©ºæ“ä½œ
* æ•°ç»„çš„ä¸‹æ ‡å¯ä»¥ç›´æ¥ä½¿ç”¨å˜é‡åï¼Œå¯ä»¥ä¸ç”¨${}åŒ…è£¹



ã€ä¸ç´ æ•°ç­›çš„æ•ˆæœæ¯”è¾ƒã€‘

æ±‚2~20000çš„ç´ æ•°å’Œ

* <img src="https://gitee.com/doubleL3/blog-imgs/raw/master/img/iG8tqQ2.png" alt="å›¾ç‰‡" style="zoom:80%;" />

* åœ¨shellä¸­ï¼Œæ•ˆæœè¿˜æ²¡æœ‰ç´ æ•°ç­›å¥½ï¼Œå¯èƒ½åŸå› æ˜¯ï¼š
    * shellæ¶‰åŠå¾ˆå¤šç³»ç»Ÿçš„è°ƒç”¨ï¼Œä¸èƒ½çº¯çœ‹æ•°å­¦å±‚é¢äº†
    * æ‰§è¡Œshellè„šæœ¬ä¼šæŠŠCPUè·‘æ»¡ï¼Œä¸Cè¯­è¨€ä¸­çš„æ•ˆæœä¸å…·æœ‰å¯æ¯”æ€§
    * å–ä½™æ“ä½œ



## â•SED è„šæœ¬ç¼–è¾‘

ä¸»è¦ç”¨äºç¼–è¾‘è„šæœ¬ï¼Œè¯­æ³•å¯å€Ÿé‰´vim

ã€å¸¸ç”¨æ“ä½œã€‘æ›¿æ¢[æ‰¹é‡ã€æŒ‰è¡Œã€åŒ¹é…]ã€åˆ é™¤

```shell
# æ›¿æ¢æ¯è¡ŒåŒ¹é…çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²æ¨¡å¼ [æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼]
sed 's/{{regex}}/{{replace}}/' {{filename}}
# æ›¿æ¢åŒ¹é…çš„è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ã€åˆ é™¤åŒ¹é…çš„è¡Œ
sed '/{{line_pattern}}/s/{{regex}}/{{replace}}/' {{filename}}
sed '/{{line_pattern}}/d' {{filename}}
# å¯ä»¥ä½¿ç”¨å…¶å®ƒåˆ†å‰²ç¬¦ï¼Œæ¯”å¦‚'#'ï¼Œåº”å¯¹éœ€è¦ç”¨åˆ°'/'å­—ç¬¦çš„åœºæ™¯
sed 's#{{regex}}#{{replace}}#' {{filename}}
# åˆ é™¤ä¸¤ä¸ªåŒ¹é…æ¨¡å¼ä¹‹é—´çš„æ‰€æœ‰è¡Œ
sed '/{{regex}}/,/{{regex}}/d' {{filename}}
# [ç‰¹æ®Š]åˆ é™¤åŒ¹é…è¡Œä¹‹å/ä¹‹å‰çš„å†…å®¹
sed '/{{regex}}/,$d' {{filename}}
sed '/{{regex}}/,$!d' {{filename}}
```
* sed -i å°†ä¿®æ”¹å†™å…¥æ–‡ä»¶
* sed '.../g' æœ«å°¾æ·»åŠ  g å¯å…¨å±€æ“ä½œ
* sed '.../d' æœ«å°¾ä¸º d ä¸ºåˆ é™¤æ“ä½œ
* sed '/.../,/...' é€—å·å¯ç”¨æ¥åŒ¹é…ä¸¤ä¸ªæ¨¡å¼ [åŒ¹é…ä¸€ä¸ªæ®µè½]
    * å‚è€ƒ[ä½¿ç”¨sedåˆ é™¤ä¸¤ä¸ªåŒ¹é…æ¨¡å¼ä¹‹é—´çš„æ‰€æœ‰è¡Œï¼Ÿ](https://cloud.tencent.com/developer/ask/182165)â€”â€”è…¾è®¯äº‘ç¤¾åŒº

ã€å‘½ä»¤æ¼”ç¤ºã€‘

â‘  ä¸Šè¿°å¸¸ç”¨å‘½ä»¤æŒ‰é¡ºåºæ“ä½œ

![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/9RGGa2D.png)

â‘¡ ç”¨äºæ›¿æ¢é…ç½®æ–‡ä»¶çš„æŸäº›é…ç½®

* <img src="https://gitee.com/doubleL3/blog-imgs/raw/master/img/OcxOY66.png" alt="å›¾ç‰‡" style="zoom: 50%;" />

* åˆ é™¤ ğŸ‘‰ æ·»åŠ 
* åˆ é™¤å‰åšå¤‡ä»½
* æ·»åŠ æ—¶åŠ å…¥æ ‡è¯†ç¬¦#newaddï¼Œæ–¹ä¾¿ä¹‹åç”¨sedæ“ä½œ
* ç›´æ¥åˆ é™¤å†æ·»åŠ ï¼Œè€Œä¸æ˜¯ç›´æ¥æ›¿æ¢ï¼Œå¯é¿å…ç¹ççš„æ¨¡å¼åŒ¹é… [å‚æ•°å€¼]



# éšå ‚ç»ƒä¹ 

1. æ±‚å­—ç¬¦ä¸²ä¸­æ‰€æœ‰æ•°å­—ä¹‹å’Œï¼š"1 2 3 4 5 6 7 9 a v ä½ å¥½ . /8"
2. å°†æ–‡ä»¶ä¸­æ‰€æœ‰å¤§å†™å­—æ¯è½¬æ¢ä¸ºå°å†™ï¼šecho "ABCefg" >> test.log
3. æ‰¾åˆ°`PATH`å˜é‡ä¸­çš„æœ€åä¸€ä¸ªè·¯å¾„
4. ä½¿ç”¨`last`å‘½ä»¤ï¼Œè¾“å‡ºæ‰€æœ‰çš„é‡å¯ä¿¡æ¯
5. å°†`/etc/passwd`ä¸­çš„å†…å®¹æŒ‰ç…§ç”¨æˆ·åæ’åº
6. å°†`/etc/passwd`ä¸­çš„å†…å®¹æŒ‰`uid`æ’åº
7. åœ¨äº‘ä¸»æœºä¸ŠæŸ¥æ‰¾è¿‘2ä¸ªæœˆç³»ç»Ÿç™»å½•ç”¨æˆ·çš„æ€»äººæ¬¡
8. å°†äº‘ä¸»æœºä¸­è¿‘2ä¸ªæœˆç™»å½•çš„æ‰€æœ‰ç”¨æˆ·åï¼ŒæŒ‰ç…§æ¬¡æ•°æ’åºï¼Œå¹¶è¾“å‡ºæ¬¡æ•°
9. å°†æœ¬åœ°çš„`/etc`ç›®å½•ä¸‹çš„æ–‡ä»¶åŠç›®å½•åï¼Œæ¯åæ¡ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­
10. å°†`/etc/passwd`ä¸­å­˜æ”¾çš„ç¬¬10åˆ°20ä¸ªç”¨æˆ·ï¼Œè¾“å‡º`uid`ã€`gid`å’Œ`groups`
11. æŒ‰ç…§ç”¨æˆ·åæŸ¥çœ‹`/etc/passwd`ä¸­çš„ç”¨æˆ·ï¼Œè¯»åˆ°`'sync'`ç”¨æˆ·æ—¶ç»“æŸï¼Œå¹¶è¾“å‡ºç”¨æˆ·çš„`uid`ã€`gid`å’Œ`groups`
12. è¯é¢‘ç»Ÿè®¡

â‘  ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ç”Ÿæˆä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶test.txt

```shell
cat >> test.txt << xxx
nihao hello hello ä½ å¥½ 
nihao
hello 
ls
cd
world
pwd
xxx
```
â‘¡ ç»Ÿè®¡a.txtä¸­å„è¯çš„è¯é¢‘ï¼Œå¹¶æŒ‰ç…§ä»å¤§åˆ°å°çš„é¡ºåºè¾“å‡ºã€‚
**ç­”æ¡ˆ**

```shell
ã€1ã€‘
  [å·§å¦™è§£æ³•ï¼Œéœ€åœ¨bashä¸‹]
    echo "1 2 3 4 5 6 7 9 a v ä½ å¥½ . /8" | tr -s -c 0-9 "\n" | echo $[`tr "\n" "+"`0]
  [forå¾ªç¯]
    sum=0
    for i in `echo "1 2 3 4 5 6 7 9 a v ä½ å¥½ . /8" | tr -s -c 0-9 "\n"`; do
    for> sum=$[$sum+$i]
    for> done
  [awkè§£æ³•1]
    echo "1 2 3 4 5 6 7 9 a v ä½ å¥½ . /8" | tr -s -c 0-9 "\n" | awk -v sum=0 '{sum += $1} END { print sum }'
  [awkè§£æ³•2]
    echo "1 2 3 4 5 6 7 9 a v ä½ å¥½ . /8" | tr -s -c 0-9 " " | awk -v sum=0 '{for (i = 1; i <= NF; i++) {sum += $i} } END{print sum}'
ã€2ã€‘ cat test.log | tr A-Z a-z > test.log
ã€3ã€‘ echo ${PATH} | tr ":" "\n" | tail -1
ã€4ã€‘ last | grep "reboot"
ã€5ã€‘ cat /etc/passwd | sort
ã€6ã€‘ cat /etc/passwd | sort -t : -k 3 -n
ã€7ã€‘ last -f /var/log/wtmp.1 -f /var/log/wtmpÂ | grep -v "^$" | grep -v "begins" | grep -v "reboot" | grep -v "shutdown"Â | wc -l
ã€8ã€‘ last -f /var/log/wtmp.1 -f /var/log/wtmpÂ | grep -v "^$" | grep -v "begins" | grep -v "reboot" | grep -v "shutdown"Â | cut -d " " -f 1 | sort | uniq -c | sort -n -r
ã€9ã€‘ ls /etc | split -l 10
ã€10ã€‘ cat /etc/passwd | head -20 | tail -10 | cut -d : -f 1 | xargs -n 1 id
ã€11ã€‘ cat /etc/passwd | cut -d : -f 1 | xargs -e"sync" -n 1Â id
ã€12ã€‘
  cat test.txt | tr -s " " "\n" | sort | uniq -c | sort -n -r
  [å¦‚æœæƒ³è®©è¯åœ¨å‰ã€æ¬¡æ•°åœ¨åï¼Œä½¿ç”¨awké¢ å€’]
    cat test.txt | tr -s " " "\n" | sort | uniq -c | sort -n -r | awk '{print $2, $1}'
```
# Tips

* é¢è¯•å¸¸è€ƒï¼šè¯é¢‘ç»Ÿè®¡
    * ![å›¾ç‰‡](https://gitee.com/doubleL3/blog-imgs/raw/master/img/YatZUeB.png)
    * træ›¿æ¢ğŸ‘‰æ’åºğŸ‘‰å»é‡è®¡æ•°ğŸ‘‰æ’åºğŸ‘‰æ˜¾ç¤ºå‰å‡ å

---


